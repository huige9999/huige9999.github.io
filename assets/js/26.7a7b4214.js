(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{498:function(s,a,e){"use strict";e.r(a);var t=e(2),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"清空输出目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#清空输出目录"}},[s._v("#")]),s._v(" 清空输出目录")]),s._v(" "),a("p",[s._v("clean-webpack-plugin")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const { CleanWebpackPlugin } = require('clean-webpack-plugin');\n\nplugins: [\n    new CleanWebpackPlugin()\n]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[s._v("#")]),s._v(" 原理")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("当emit时(生成资源到文件列表之前)：\n    用fs模块删除dist目录\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"自动生成页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动生成页面"}},[s._v("#")]),s._v(" 自动生成页面")]),s._v(" "),a("p",[s._v("html-webpack-plugin")]),s._v(" "),a("p",[s._v("自动生成html，引入打包生成的js文件")]),s._v(" "),a("h3",{attrs:{id:"原理-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理-2"}},[s._v("#")]),s._v(" 原理")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("当emit时：\n    1. 利用fs模块生成一个页面文件\n    2. 给文件内容的合适位置添加一个script元素，元素的src路径引用打包后的js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"页面按照给定的模板生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面按照给定的模板生成"}},[s._v("#")]),s._v(" 页面按照给定的模板生成")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("new HtmlWebpackPlugin({\n    template: './public/index.html',\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("多入口情况下(即生成多个bundle的情况下)，生成的html会将所有bundle引入")]),s._v(" "),a("blockquote",[a("p",[s._v("使用配置 chunks: all默认所有，chunks: ['home'] 只会引入home bundle")])])]),s._v(" "),a("p",[a("strong",[s._v("一次new HtmlWebpackPlugin()只能生成一个页面，如果需要生成多个页面，需要多个HtmlWebpackPlugin()")])]),s._v(" "),a("h2",{attrs:{id:"复制静态资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复制静态资源"}},[s._v("#")]),s._v(" 复制静态资源")]),s._v(" "),a("p",[s._v("copy-webpack-plugin")]),s._v(" "),a("h3",{attrs:{id:"场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#场景"}},[s._v("#")]),s._v(" 场景")]),s._v(" "),a("p",[s._v("将public目录下的资源原封不动的输出到打包目录下\n即：页面中与模块依赖无关的纯静态资源")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("new copyPlugin([\n    {\n      from : './public',\n      to : './'\n    } // 复制规则\n])\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);