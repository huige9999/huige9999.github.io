(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{394:function(s,a,t){s.exports=t.p+"assets/img/17.081a22bc.png"},456:function(s,a,t){s.exports=t.p+"assets/img/4.0abc9906.png"},457:function(s,a,t){s.exports=t.p+"assets/img/5.81117124.png"},458:function(s,a){s.exports="data:image/png;base64,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"},459:function(s,a,t){s.exports=t.p+"assets/img/7.d90bdf87.png"},460:function(s,a,t){s.exports=t.p+"assets/img/8.15002f62.png"},461:function(s,a,t){s.exports=t.p+"assets/img/9.594227b7.png"},462:function(s,a,t){s.exports=t.p+"assets/img/10.67d640e9.png"},463:function(s,a,t){s.exports=t.p+"assets/img/11.0fd71284.png"},464:function(s,a,t){s.exports=t.p+"assets/img/12.925864f8.png"},465:function(s,a,t){s.exports=t.p+"assets/img/13.dee54cab.png"},466:function(s,a,t){s.exports=t.p+"assets/img/14.96f2e68c.png"},467:function(s,a,t){s.exports=t.p+"assets/img/15.b2914825.png"},468:function(s,a,t){s.exports=t.p+"assets/img/16.60965131.png"},469:function(s,a,t){s.exports=t.p+"assets/img/18.8becf06c.png"},470:function(s,a,t){s.exports=t.p+"assets/img/19.f9600caf.png"},471:function(s,a,t){s.exports=t.p+"assets/img/20.431187a0.png"},472:function(s,a,t){s.exports=t.p+"assets/img/21.ea6f871c.png"},473:function(s,a,t){s.exports=t.p+"assets/img/22.7a9919b3.png"},474:function(s,a,t){s.exports=t.p+"assets/img/23.6fcb311d.png"},475:function(s,a,t){s.exports=t.p+"assets/img/24.6f9b2ce0.png"},476:function(s,a,t){s.exports=t.p+"assets/img/25.7478b59e.png"},477:function(s,a,t){s.exports=t.p+"assets/img/26.3e6bdaf4.png"},478:function(s,a,t){s.exports=t.p+"assets/img/27.67d59724.png"},512:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"构建工具出现的背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建工具出现的背景"}},[s._v("#")]),s._v(" 构建工具出现的背景")]),s._v(" "),a("p",[s._v("开发时(devtime)和运行时(runtime)的侧重点不一样")]),s._v(" "),a("p",[a("strong",[s._v("开发时态：")])]),s._v(" "),a("ol",[a("li",[s._v("模块划分越细越好")]),s._v(" "),a("li",[s._v("支持多种模块化标准")]),s._v(" "),a("li",[s._v("支持npm或其他包管理器下载的模块")]),s._v(" "),a("li",[s._v("能够解决其他工程化的问题")])]),s._v(" "),a("p",[a("strong",[s._v("运行时态：")])]),s._v(" "),a("ol",[a("li",[s._v("文件越少越好")]),s._v(" "),a("li",[s._v("文件体积越小越好")]),s._v(" "),a("li",[s._v("代码内容越乱越好")]),s._v(" "),a("li",[s._v("所有浏览器都要兼容")]),s._v(" "),a("li",[s._v("能够解决其他运行时的问题，主要是执行效率问题")])]),s._v(" "),a("p",[s._v("于是构建工具出现了：")]),s._v(" "),a("p",[s._v('它能将"开发时很爽的代码"'),a("strong",[s._v("转换成")]),s._v('"运行时很爽"的代码!')]),s._v(" "),a("p",[a("img",{attrs:{src:t(456),alt:"alt text"}})]),s._v(" "),a("p",[a("strong",[s._v("常见的构建工具")])]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("webpack")])]),s._v(" "),a("li",[s._v("grunt")]),s._v(" "),a("li",[s._v("gulp")]),s._v(" "),a("li",[s._v("browserify")]),s._v(" "),a("li",[s._v("fis")]),s._v(" "),a("li",[s._v("其他")])]),s._v(" "),a("h2",{attrs:{id:"webpack的安装与使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack的安装与使用"}},[s._v("#")]),s._v(" webpack的安装与使用")]),s._v(" "),a("h3",{attrs:{id:"webpack简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack简介"}},[s._v("#")]),s._v(" webpack简介")]),s._v(" "),a("ul",[a("li",[s._v("基于模块化的构建工具，将一切视为模块")]),s._v(" "),a("li",[s._v("以一个开发时的入口模块为起点，分析出所有的依赖关系，然后压缩合并等，最终生成运行时态的文件")])]),s._v(" "),a("p",[s._v("特点：")]),s._v(" "),a("ul",[a("li",[s._v("处理前端工程化问题，让开发者专注于代码，工程化问题交给它")]),s._v(" "),a("li",[s._v("生态强大，其本身功能不多但它提供了一些可以扩展功能的机制")]),s._v(" "),a("li",[s._v("基于node.js，webpack运行在node环境中，因为它要进行文件读写操作")]),s._v(" "),a("li",[s._v("基于模块化,webpack根据模块化导入语句来分析依赖关系，它支持各种模块化标准(CommonJS、ESModule等)")])]),s._v(" "),a("h3",{attrs:{id:"安装webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装webpack"}},[s._v("#")]),s._v(" 安装webpack")]),s._v(" "),a("p",[s._v("webpack包含两个包：")]),s._v(" "),a("ul",[a("li",[s._v("webpack：核心包，包含了webpack构建过程中要用到的所有api")]),s._v(" "),a("li",[s._v("webpack-cli：提供一个简单的cli命令，调用webpack核心包的api，来完成构建过程")])]),s._v(" "),a("p",[s._v("安装命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i -D webpack webpack-cli\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 默认以```./src/index.js```作为入口文件分析依赖关系，打包到```./dist/main.js```文件中\n// mode参数指定development或production环境，默认是production\n  "scripts": {\n    "build": "webpack --mode=production",\n    "dev": "webpack --mode=development"\n  }\n  npm run build\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"模块化兼容性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化兼容性"}},[s._v("#")]),s._v(" 模块化兼容性")]),s._v(" "),a("p",[s._v("由于webpack同时支持CommonJS和ESModule，所以要理解它们互操作时webpack的处理方式。")]),s._v(" "),a("h3",{attrs:{id:"同模块化标准"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同模块化标准"}},[s._v("#")]),s._v(" 同模块化标准")]),s._v(" "),a("p",[s._v("不存在兼容性问题，按各自的模块化规则来导入导出\nCommonJS:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n  a:1,\n  b:2,\n  c:3\n}\n\nrequire('./a') // 得到{a:1,b:2,c:3}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("ESModule:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("export var a = 1;\nexport var b = 2;\nexport default 3;\n\nimport * as obj from './a' // 得到{a:1,b:2,default:3}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"esmodule导出、commonjs导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#esmodule导出、commonjs导入"}},[s._v("#")]),s._v(" ESModule导出、CommonJS导入")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("export var a = 1;\nexport var b = 2;\nexport default 3;\n\n\nrequire('./a') // 得到{a:1,b:2,default:3}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"commonjs导出、esmodule导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs导出、esmodule导入"}},[s._v("#")]),s._v(" CommonJS导出、ESModule导入")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n  a:1,\n  b:2,\n  c:3\n}\n\nimport * as obj from './a' // 得到{a:1,b:2,c:3}\nimport c from './a' // 也是得到{a:1,b:2,c:3}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"小结归纳"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结归纳"}},[s._v("#")]),s._v(" 小结归纳")]),s._v(" "),a("p",[s._v("通常情况下,导出结果当成一个对象，ES6导出的对象可能多了一个default属性")]),s._v(" "),a("h2",{attrs:{id:"编译结果分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译结果分析"}},[s._v("#")]),s._v(" 编译结果分析")]),s._v(" "),a("p",[a("strong",[s._v("源代码如下：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("index.js(入口):\n\nconsole.log('index module')\nvar a = require('./a')\nconsole.log(a)\n\na.js:\n\nconsole.log('module a')\nmodule.exports = \"a\"\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[a("strong",[s._v("分析:")])]),s._v(" "),a("h3",{attrs:{id:"step1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step1"}},[s._v("#")]),s._v(" step1")]),s._v(" "),a("ul",[a("li",[s._v("模块会进行合并,放到一个对象中")]),s._v(" "),a("li",[s._v("每个模块会放到一个函数环境中执行，该环境会准备好一些必要的参数(避免污染全局变量)")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var modules = {\n    './src/a.js': function(module, exports) {\n       console.log('module a')\n       module.exports = \"a\"\n    },\n    './src/index.js': function(module, exports, require) {\n        console.log('index module')\n        var a = require('./src/a.js')\n        console.log(a)\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"step2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step2"}},[s._v("#")]),s._v(" step2")]),s._v(" "),a("ul",[a("li",[s._v("定义一个自执行函数来运行modules,该环境会定义好各个模块执行所需要的参数")]),s._v(" "),a("li",[s._v("定义require函数，运行一个模块并得到模块导出结果")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("(function(modules) {\n  function require(moduleId) {\n    // 得到模块的执行函数\n    var func = modules[moduleId]\n    var module = {\n       exports: {}\n    }\n    func(module, modules.exports, require);\n    return module.exports;\n  }\n  // 执行入口模块\n  require('./src/index.js')\n\n})(modules)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"step3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step3"}},[s._v("#")]),s._v(" step3")]),s._v(" "),a("ul",[a("li",[s._v("加上缓存功能，避免重复执行模块")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  // 用于缓存模块的执行结果\n  var moduleExports = {};\n function require(moduleId) {\n  // 如果有缓存直接返回缓存结果\n   if(moduleExports[moduleId]) {\n     return moduleExports[moduleId];\n   }\n   // 运行函数并得到返回结果缓存起来\n   var result = 模块函数();\n   moduleExports[moduleId] = result;\n }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[a("strong",[s._v("其他细节分析：")]),s._v("\n模块代码以字符串形式放到eval函数中执行")]),s._v(" "),a("h3",{attrs:{id:"为什么代码要放到eval函数中执行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么代码要放到eval函数中执行"}},[s._v("#")]),s._v(" 为什么代码要放到eval函数中执行？")]),s._v(" "),a("p",[s._v("为了方便调试")]),s._v(" "),a("p",[s._v("分析：\n最终运行的是打包后的代码，而打包后的代码是经过压缩合并的，所以不利于调试！")]),s._v(" "),a("p",[a("img",{attrs:{src:t(457),alt:"alt text"}})]),s._v(" "),a("p",[s._v("而放到eval函数中的代码，浏览器会新开一个环境执行，在新环境中你只能看到eval函数中的代码，没有其他干扰，所以可以方便调试！")]),s._v(" "),a("p",[a("img",{attrs:{src:t(458),alt:"alt text"}})]),s._v(" "),a("p",[s._v("为了更方便调试，浏览器还支持源码地图可以直接定位到你的源码中!")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//# sourceURL=webpack://learn01/./src/index.js?\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(459),alt:"alt text"}})]),s._v(" "),a("h2",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),a("ul",[a("li",[s._v("执行webpack命令需要传一些配置参数，可以通过命令行传参，也可以通过更加灵活的配置文件来传参")]),s._v(" "),a("li",[s._v("webpack默认读取webpack.config.js作为配置文件，可以通过--config参数指定配置文件")]),s._v(" "),a("li",[s._v("命令行参数优先级高于配置文件参数")]),s._v(" "),a("li",[s._v("配置文件中通过CommonJS模块导出一个对象，对象中的各种属性对应不同的webpack配置")])]),s._v(" "),a("h2",{attrs:{id:"devtool配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devtool配置"}},[s._v("#")]),s._v(" devtool配置")]),s._v(" "),a("h3",{attrs:{id:"source-map-源码地图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#source-map-源码地图"}},[s._v("#")]),s._v(" source map(源码地图)")]),s._v(" "),a("p",[s._v("sourcemap是一个配置，记录了源码内容、源码和编译后代码的关系")]),s._v(" "),a("p",[s._v("下面是浏览器处理source map的原理：\n"),a("img",{attrs:{src:t(460),alt:"alt text"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(461),alt:"alt text"}})]),s._v(" "),a("h3",{attrs:{id:"最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践"}},[s._v("#")]),s._v(" 最佳实践")]),s._v(" "),a("ol",[a("li",[s._v("source map 应在开发环境中使用，作为一种调试手段")]),s._v(" "),a("li",[s._v("source map 不应该在生产环境中使用，source map的文件一般较大，不仅会导致额外的网络传输，还容易暴露原始代码。即便要在生产环境中使用source map，用于调试真实的代码运行问题，也要做出一些处理规避网络传输和代码暴露的问题。")])]),s._v(" "),a("h3",{attrs:{id:"webpack中的source-map配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack中的source-map配置"}},[s._v("#")]),s._v(" webpack中的source map配置")]),s._v(" "),a("p",[s._v("devtool配置项：")]),s._v(" "),a("ul",[a("li",[s._v("none：不作任何特殊控制(生产环境适用)")]),s._v(" "),a("li",[s._v("eval: 每个模块都使用 eval() 执行，并且都有 //# sourceURL,构建会非常快,，由于会映射到转换后的代码，而不是映射到原始代码，所以不能正确的显示行数(开发环境适用)")]),s._v(" "),a("li",[s._v("eval-source-map: 与 eval 类似，但是会映射到原始代码，而不是转换后的代码，所以可以正确的显示行数(开发环境适用)")]),s._v(" "),a("li",[s._v("source-map： 整个 source map 作为一个单独的文件生成。它为 bundle 添加了一个引用注释，以便开发工具知道在哪里可以找到它")]),s._v(" "),a("li",[s._v("hidden-source-map： 与 source-map 相同，但不会为 bundle 添加引用注释。如果你只想 source map 映射那些源自错误报告的错误堆栈跟踪信息，但不想为浏览器开发工具暴露你的 source map，这个\n选项会很有用")])]),s._v(" "),a("p",[s._v("更多取值参考：https://www.webpackjs.com/configuration/devtool/")]),s._v(" "),a("h2",{attrs:{id:"webpack编译过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack编译过程"}},[s._v("#")]),s._v(" webpack编译过程")]),s._v(" "),a("p",[s._v("webpack 的作用是将源代码编译（也可以叫做：构建、打包）成最终代码\n"),a("img",{attrs:{src:t(462),alt:"alt text"}})]),s._v(" "),a("p",[s._v("整个过程大致分为以下三个步骤：\n"),a("img",{attrs:{src:t(463),alt:"alt text"}})]),s._v(" "),a("h3",{attrs:{id:"初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[s._v("#")]),s._v(" 初始化")]),s._v(" "),a("p",[s._v("此阶段，webpack会将"),a("strong",[s._v("CLI参数")]),s._v("、"),a("strong",[s._v("配置文件")]),s._v("、"),a("strong",[s._v("默认配置")]),s._v("进行融合，形成一个最终的配置对象。")]),s._v(" "),a("h3",{attrs:{id:"编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[s._v("#")]),s._v(" 编译")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("创建chunk")]),s._v("\nchunk是webpack在内部构建过程中的一个概念，译为"),a("code",[s._v("块")]),s._v("，它表示通过某个入口找到的所有依赖的统称。")])]),s._v(" "),a("p",[a("img",{attrs:{src:t(464),alt:"alt text"}})]),s._v(" "),a("p",[s._v("每个chunk都有至少两个属性：")]),s._v(" "),a("ul",[a("li",[s._v("name：默认为main")]),s._v(" "),a("li",[s._v("id：唯一编号，开发环境和name相同，生产环境是一个数字，从0开始")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[s._v("构建所有依赖模块")])])]),s._v(" "),a("p",[a("img",{attrs:{src:t(465),alt:"alt text"}})]),s._v(" "),a("p",[s._v("详细说明：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("读取文件内容会将文件内容转换成抽象语法树")])]),s._v(" "),a("li",[a("p",[s._v("对抽象语法书进行分析，找出代码中的导入语句(即：找到依赖模块)")])]),s._v(" "),a("li",[a("p",[s._v("依赖保存到一个数组里，形如：['./src/a.js','./src/b.js']")])]),s._v(" "),a("li",[a("p",[s._v("将源代码中的导入语句替换成webpack的require函数(即：require('a.js')转换成__webpack_require__('./src/a.js'))")])]),s._v(" "),a("li",[a("p",[s._v("将转换后的代码保存到模块列表里，形如：[{id: './src/a.jg', source: 转换后的代码}]")])]),s._v(" "),a("li",[a("p",[s._v("遍历依赖数组，对每一项递归执行步骤1-5，直到所有依赖模块都被处理完毕 (处理完毕后，模块列表包含所有"),a("strong",[s._v("模块id和模块转换后的代码")]),s._v(")")])])]),s._v(" "),a("blockquote",[a("p",[s._v("AST在线测试工具：https://astexplorer.net/")])]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("strong",[s._v("产生chunk assets")]),s._v("\n将第二步的模块列表结合配置得到资源列表，即"),a("code",[s._v("chunk assets")]),s._v("，资源列表可以理解为是生成到最终文件的文件名和文件内容")])]),s._v(" "),a("p",[s._v("理解：最终文件里有一套模板代码，模块列表中的模块代码会被插入到模板代码的适当位置形成文件内容")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 模板代码\nvar modules = {\n    '模块id': function(module, exports) {\n       eval( 模块转换后的代码 )\n    }\n}\n\n(function(modules){\n  定义模块函数所需参数\n  运行modules入口模块\n})(modules)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[a("img",{attrs:{src:t(466),alt:"alt text"}})]),s._v(" "),a("blockquote",[a("p",[s._v("chunk hash是根据所有chunk assets的内容生成的一个hash字符串\nhash：一种算法，具体有很多分类，特点是将一个任意长度的字符串转换为一个固定长度的字符串，而且可以保证原始内容不变，产生的hash字符串就不变")])]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("strong",[s._v("合并chunk assets")]),s._v("\n将多个chunk的assets合并到一起，并产生一个总的hash\n"),a("img",{attrs:{src:t(467),alt:"alt text"}})])]),s._v(" "),a("h3",{attrs:{id:"输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输出"}},[s._v("#")]),s._v(" 输出")]),s._v(" "),a("p",[s._v("webpack将利用node中的fs模块（文件处理模块），根据编译产生的总的assets，生成相应的文件。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(468),alt:"alt text"}})]),s._v(" "),a("h3",{attrs:{id:"总过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总过程"}},[s._v("#")]),s._v(" 总过程")]),s._v(" "),a("p",[a("img",{attrs:{src:t(394),alt:"alt text"}})]),s._v(" "),a("p",[a("strong",[s._v("涉及术语")])]),s._v(" "),a("ol",[a("li",[s._v("module：模块，分割的代码单元，webpack中的模块可以是任何内容的文件，不仅限于JS")]),s._v(" "),a("li",[s._v("chunk：webpack内部构建模块的块，一个chunk中包含多个模块，这些模块是从入口模块通过依赖分析得来的(理解：一个chunk对应一个合并后的js文件)")]),s._v(" "),a("li",[s._v("bundle：chunk构建好模块后会生成chunk的资源清单，清单中的每一项就是一个bundle，可以认为bundle就是最终生成的文件")]),s._v(" "),a("li",[s._v("hash：最终的资源清单所有内容联合生成的hash值")]),s._v(" "),a("li",[s._v("chunkhash：chunk生成的资源清单内容联合生成的hash值")]),s._v(" "),a("li",[s._v("chunkname：chunk的名称，如果没有配置则使用main")]),s._v(" "),a("li",[s._v("id：通常指chunk的唯一编号，如果在开发环境下构建，和chunkname相同；如果是生产环境下构建，则使用一个从0开始的数字进行编号")])]),s._v(" "),a("p",[s._v("补充：\n如果开启了watch，每次文件变化，会从编译阶段开始重新执行")]),s._v(" "),a("h2",{attrs:{id:"入口和出口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#入口和出口"}},[s._v("#")]),s._v(" 入口和出口")]),s._v(" "),a("p",[a("img",{attrs:{src:t(394),alt:"alt text"}})]),s._v(" "),a("h3",{attrs:{id:"关于路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于路径"}},[s._v("#")]),s._v(" 关于路径")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("模块化代码中，比如require('./'),表示当前js文件所在目录")])]),s._v(" "),a("li",[a("p",[s._v('路径处理中，"./"表示node运行目录\n比如：E:\\workspace-git\\my-site\\test.js,我在E:\\workspace-gift目录下运行node命令： node my-site/test.js，此时test.js中的"./"表示:E:\\workspace-gift')])]),s._v(" "),a("li",[a("p",[s._v("__dirname,所有情况下，都表示当前运行的js文件所在的目录(绝对路径)")])])]),s._v(" "),a("p",[s._v("path.resolve()方法进行路径拼接得到绝对路径(本质上就是路径字符串处理)")]),s._v(" "),a("h3",{attrs:{id:"出口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#出口"}},[s._v("#")]),s._v(" 出口")]),s._v(" "),a("p",[a("img",{attrs:{src:t(469),alt:"alt text"}})]),s._v(" "),a("p",[s._v("出口是针对资源列表的文件名和路径的配置\n通过output进行配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' output: {\n    path: path.resolve(__dirname, "target"), // 必须配置一个绝对路径，表示资源放置的文件夹，默认是dist\n    filename: "js/bundle.js", // 合并模块后的js代码文件的规则\n  },\n\n  // 动态文件名\n  // name表示chunk的名称\noutput: {\n  filename: "[name].js"\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("规则：")]),s._v(" "),a("ul",[a("li",[s._v("name：chunkname")]),s._v(" "),a("li",[s._v("hash: 总的资源hash，通常用于解决缓存问题")]),s._v(" "),a("li",[s._v("chunkhash: 使用chunkhash")]),s._v(" "),a("li",[s._v("id: 使用chunkid，不推荐")])]),s._v(" "),a("h3",{attrs:{id:"入口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#入口"}},[s._v("#")]),s._v(" 入口")]),s._v(" "),a("p",[a("img",{attrs:{src:t(470),alt:"alt text"}})]),s._v(" "),a("p",[s._v("入口配置的是chunk")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' entry: { // 属性名：chunk名称,属性值: chunk对应的入口模块的路径\n     main: "./src/index.js"\n  },\n\n  // 多个chunk(多入口)\n  entry: {\n    main: "./src/index.js",\n    a: "./src/a.js",\n  }\n  // 启动模块有两个(只是模块查找的范围更广生成模块列表更多而已，还是会合并到一个文件)\n  entry: {\n    main: ["./src/index.js", "./src/a.js"]\n  }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h2",{attrs:{id:"入口和出口的最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#入口和出口的最佳实践"}},[s._v("#")]),s._v(" 入口和出口的最佳实践")]),s._v(" "),a("h3",{attrs:{id:"一个页面一个js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个页面一个js"}},[s._v("#")]),s._v(" 一个页面一个JS")]),s._v(" "),a("p",[a("img",{attrs:{src:t(471),alt:"alt text"}})]),s._v(" "),a("p",[s._v("源码结构：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("|—— src\n    |—— pageA   页面A的代码目录\n        |—— index.js 页面A的启动模块\n        |—— ...\n    |—— pageB   页面B的代码目录\n        |—— index.js 页面B的启动模块\n        |—— ...\n    |—— pageC   页面C的代码目录\n        |—— main1.js 页面C的启动模块1 例如：主功能\n        |—— main2.js 页面C的启动模块2 例如：实现访问统计的额外功能\n        |—— ...\n    |—— common  公共代码目录\n        |—— ...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("webpack配置:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('module.exports = {\n    entry:{\n        pageA: "./src/pageA/index.js",\n        pageB: "./src/pageB/index.js",\n        pageC: ["./src/pageC/main1.js", "./src/pageC/main2.js"]\n    },\n    output:{\n        filename:"[name].[chunkhash:5].js"\n    }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("这种方式适用于页面之间的功能差异巨大、公共代码较少的情况，这种情况下打包出来的最终代码不会有太多重复")]),s._v(" "),a("h3",{attrs:{id:"一个页面多个js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个页面多个js"}},[s._v("#")]),s._v(" 一个页面多个JS")]),s._v(" "),a("p",[a("img",{attrs:{src:t(472),alt:"alt text"}})]),s._v(" "),a("p",[s._v("源码结构")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("|—— src\n    |—— pageA   页面A的代码目录\n        |—— index.js 页面A的启动模块\n        |—— ...\n    |—— pageB   页面B的代码目录\n        |—— index.js 页面B的启动模块\n        |—— ...\n    |—— statistics   用于统计访问人数功能目录\n        |—— index.js 启动模块\n        |—— ...\n    |—— common  公共代码目录\n        |—— ...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("webpack配置")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("pageA")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/pageA/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("pageB")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/pageB/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("statistics")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/statistics/index.js"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"[name].[chunkhash:5].js"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("这种方式适用于页面之间有一些"),a("strong",[s._v("独立")]),s._v("(和页面主功能毫不相关，即不存在导入使用关系)、相同的功能，专门使用一个chunk抽离这部分JS有利于浏览器更好的缓存这部分内容。")]),s._v(" "),a("blockquote",[a("p",[s._v("为什么不使用多启动模块的方式而使用多入口的方式呢？\n公共代码没有被抽离而是打包到一个js里，会增加传输量！")])]),s._v(" "),a("h4",{attrs:{id:"单页应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单页应用"}},[s._v("#")]),s._v(" 单页应用")]),s._v(" "),a("p",[a("img",{attrs:{src:t(473),alt:"alt text"}}),s._v("\n所谓单页应用，是指整个网站（或网站的某一个功能块）只有一个页面，页面中的内容全部靠JS创建和控制。 vue和react都是实现单页应用的利器。")]),s._v(" "),a("p",[s._v("源码结构")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("|—— src\n    |—— subFunc   子功能目录\n        |—— ...\n    |—— subFunc   子功能目录\n        |—— ...\n    |—— common  公共代码目录\n        |—— ...\n    |—— index.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("webpack配置")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.[hash:5].js"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader"}},[s._v("#")]),s._v(" loader")]),s._v(" "),a("p",[s._v("webpack做的事情，仅仅是分析出各种模块的依赖关系，然后形成资源列表，最终打包生成到指定的文件中。 更多的功能需要借助webpack loaders和webpack plugins完成。")]),s._v(" "),a("h3",{attrs:{id:"loader的本质"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader的本质"}},[s._v("#")]),s._v(" loader的本质")]),s._v(" "),a("p",[s._v("loader本质上是一个函数，它的作用是将某个源码字符串转换成另一个源码字符串返回。\n"),a("img",{attrs:{src:t(474),alt:"alt text"}})]),s._v(" "),a("h3",{attrs:{id:"loader函数的执行时机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader函数的执行时机"}},[s._v("#")]),s._v(" loader函数的执行时机")]),s._v(" "),a("p",[s._v("读取模块文件内容后，生成抽象语法树之前")]),s._v(" "),a("p",[a("img",{attrs:{src:t(475),alt:"alt text"}})]),s._v(" "),a("h3",{attrs:{id:"处理loaders流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理loaders流程"}},[s._v("#")]),s._v(" 处理loaders流程")]),s._v(" "),a("p",[a("img",{attrs:{src:t(476),alt:"alt text"}})]),s._v(" "),a("p",[s._v("说明：loader函数执行顺序：从下到上，从右到左。")]),s._v(" "),a("h3",{attrs:{id:"loader的配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader的配置"}},[s._v("#")]),s._v(" loader的配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('module.exports = {\n    module: { //针对模块的配置，目前版本只有两个配置，rules、noParse\n        rules: [ //模块匹配规则，可以存在多个规则\n            { //每个规则是一个对象\n                test: /\\.js$/, //匹配的模块正则\n                use: [ //匹配到后应用的规则模块\n                    {  //其中一个规则\n                        loader: "模块路径", //loader模块的路径，该字符串会被放置到require中\n                        options: { //向对应loader传递的额外参数\n\n                        }\n                    }\n                ]\n            }\n        ]\n    }\n}\n\n// use的简化配置\nuse: ["模块路径1", "模块路径2"]\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h3",{attrs:{id:"案例处理样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例处理样式"}},[s._v("#")]),s._v(" 案例处理样式")]),s._v(" "),a("p",[s._v("核心思路：")]),s._v(" "),a("p",[a("strong",[s._v("将CSS代码字符串 转换成 js代码字符串")])]),s._v(" "),a("p",[s._v("js代码：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1. 创建style元素\n2. style元素.innerHTML = css代码字符串\n3. document.head.appendChild(style元素)\n4. module.exports = css代码字符串(方便打印查看)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("loader完整实现：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function(source) {\n  return 上述js代码字符串形式\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"案例处理图片"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例处理图片"}},[s._v("#")]),s._v(" 案例处理图片")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 传参\n options: {\n    limit: 3000,// 3000字节以上用图片，小于3000字节用base64\n    filename: "img-[contenthash:5].[ext]"\n }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('function loader(buffer) {\n  // 解构出参数\n  const {limit,filename} = this.getOptions();\n  if(buffer的长度小于limit) {\n    return "module.exports = buffer转成base64字符串形式"\n  } else {\n  \n   // 生成文件名\n   const fileName = loaderUtils.interpolateName(this, "[name].[contenthash].[ext]", {\n    content: buffer,\n   });\n    // 将文件名和文件内容生成到输出目录\n   this.emitFile(fileName, buffer);\n   return "module.exports = fileName"\n  }\n}\nloader.raw = true; // 将图片内容以二进制形式传入\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h2",{attrs:{id:"plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin"}},[s._v("#")]),s._v(" plugin")]),s._v(" "),a("p",[s._v("loader的功能定位是转换代码,而一些其他的操作难以使用loader完成，比如：")]),s._v(" "),a("ul",[a("li",[s._v("当webpack生成文件时，顺便多生成一个说明描述文件")]),s._v(" "),a("li",[s._v("当webpack编译启动时，控制台输出一句话表示webpack启动了")]),s._v(" "),a("li",[s._v("当xxxx时，xxxx")])]),s._v(" "),a("p",[s._v("这种类似的功能需要把功能嵌入到webpack的编译流程中，而这种事情的实现是依托于plugin。\n"),a("img",{attrs:{src:t(477),alt:"alt text"}})]),s._v(" "),a("h3",{attrs:{id:"plugin的本质"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin的本质"}},[s._v("#")]),s._v(" plugin的本质")]),s._v(" "),a("p",[s._v("plugin的本质是一个带有apply方法的对象")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 定义插件\nclass MyPlugin{\n    apply(compiler){\n\n    }\n}\n\n// 使用插件\nmodule.exports = {\n    plugins:[\n        new MyPlugin()\n    ]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("apply函数会在初始化阶段，创建好Compiler对象后运行。\n理解：类比 window.onload、Vue created")]),s._v(" "),a("p",[s._v("compiler对象是在初始化阶段构建的，整个webpack打包期间只有一个compiler对象，后续完成打包工作的是compiler对象内部创建的compilation")]),s._v(" "),a("p",[s._v("apply方法会在"),a("strong",[s._v("创建好compiler对象")]),s._v("后调用，并向方法传入一个compiler对象")]),s._v(" "),a("p",[a("img",{attrs:{src:t(478),alt:"alt text"}})]),s._v(" "),a("p",[s._v("compiler对象提供了大量的钩子函数（hooks，可以理解为事件），plugin的开发者可以注册这些钩子函数，参与webpack编译和生成。")]),s._v(" "),a("p",[s._v("你可以在apply方法中使用下面的代码注册钩子函数:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class MyPlugin{\n    apply(compiler){\n        compiler.hooks.事件名称.事件类型(name, function(compilation){\n            //事件处理函数\n        })\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"事件名称"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件名称"}},[s._v("#")]),s._v(" 事件名称")]),s._v(" "),a("p",[s._v("即要监听的事件名，即钩子名，所有的钩子：https://www.webpackjs.com/api/compiler-hooks")]),s._v(" "),a("h3",{attrs:{id:"事件类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件类型"}},[s._v("#")]),s._v(" 事件类型")]),s._v(" "),a("p",[s._v("这一部分使用的是 Tapable API，这个小型的库是一个专门用于钩子函数监听的库。")]),s._v(" "),a("p",[s._v("它提供了一些事件类型：")]),s._v(" "),a("ul",[a("li",[s._v("tap：注册一个同步的钩子函数，函数运行完毕则表示事件处理结束")]),s._v(" "),a("li",[s._v("tapAsync：注册一个基于回调的异步的钩子函数，函数通过调用一个回调表示事件处理结束")]),s._v(" "),a("li",[s._v("tapPromise：注册一个基于Promise的异步的钩子函数，函数通过返回的Promise进入已决状态表示事件处理结束")])]),s._v(" "),a("h3",{attrs:{id:"处理函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理函数"}},[s._v("#")]),s._v(" 处理函数")]),s._v(" "),a("p",[s._v("处理函数有一个事件参数compilation")]),s._v(" "),a("h3",{attrs:{id:"案例-添加文件列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例-添加文件列表"}},[s._v("#")]),s._v(" 案例：添加文件列表")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class FileListPlugin {\n    apply(compiler) {\n        compiler.hooks.emit.tap('FileListPlugin', (compilation) => {\n            1. complication.assets拿到资源清单\n            // 2. 组装文件内容\n            // 3. 向assets中添加一个文件列表文件\n            compilation.assets[文件名] = {\n                source() {\n                    return 文件内容\n                },\n                size() {\n                    return 文件大小\n                }\n            }\n        })\n    }\n}\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h2",{attrs:{id:"区分环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#区分环境"}},[s._v("#")]),s._v(" 区分环境")]),s._v(" "),a("p",[s._v("开发环境和生成环境的配置存在差异，所以需要区分环境")]),s._v(" "),a("h3",{attrs:{id:"方法1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法1"}},[s._v("#")]),s._v(" 方法1")]),s._v(" "),a("p",[s._v("每个环境写一个配置，打包的时候通过--config参数指定配置文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("dev:webpack --config webpack.config.dev.js\nbuild:webpack --config webpack.config.build.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"方法2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法2"}},[s._v("#")]),s._v(" 方法2")]),s._v(" "),a("p",[s._v("以函数的形式配置，该函数返回配置对象，接收一个env参数，指令中定义的env参数会传递给该函数")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = (env) => {\n  if(env为生成环境) {\n    return 生产环境配置对象\n  } else {\n    return 开发环境配置对象\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npx webpack --env abc #env:abc\nnpx webpack --env.abc #env:{abc:true}\nnpx webpack --env.abc=1 #env:{abc:1}\nnpx webpack --env.abc=1 --env.bcd=2 #env:{abc:1, bcd:2}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"细枝末节的配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#细枝末节的配置"}},[s._v("#")]),s._v(" 细枝末节的配置")]),s._v(" "),a("h3",{attrs:{id:"关于细枝末节知识学习的方法论"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于细枝末节知识学习的方法论"}},[s._v("#")]),s._v(" 关于细枝末节知识学习的方法论")]),s._v(" "),a("ul",[a("li",[s._v("知道它能干什么就行，它怎么做的忘了就忘了")]),s._v(" "),a("li",[s._v("如果能做个笔记方便以后查阅，或者跟着实操一遍加深映像当然更好")]),s._v(" "),a("li",[s._v("真正要用到的时候再去研究细节")])]),s._v(" "),a("h3",{attrs:{id:"context-上下文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#context-上下文"}},[s._v("#")]),s._v(" context(上下文)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('context: path.resolve(__dirname,"app")\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("入口和loaders的相对路径会以context配置作为基准路径")]),s._v(" "),a("p",[s._v("这样你的配置就会独立于CWD(current working directory)")]),s._v(" "),a("h3",{attrs:{id:"output-library"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#output-library"}},[s._v("#")]),s._v(" output.library")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('library: "abc"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("会将打包后的自执行函数的返回结果(即入口模块的导出结果)暴露给abc")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var abc = (function(modules){...}(modules))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[s._v("#")]),s._v(" 使用场景")]),s._v(" "),a("p",[s._v("比如我们开发一个jquery库，暴露给全局变量$")]),s._v(" "),a("h3",{attrs:{id:"output-librarytarget"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#output-librarytarget"}},[s._v("#")]),s._v(" output.libraryTarget")]),s._v(" "),a("p",[s._v("和library配合使用，精准控制如何暴露入口模块的导出结果")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var(默认值) var abc = 自执行函数的返回结果\nwindow window.abc = 自执行函数的返回结果\nthis this.abc = 自执行函数的返回结果\ncommonjs exports.abc = 自执行函数的返回结果\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"target"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#target"}},[s._v("#")]),s._v(" target")]),s._v(" "),a("p",[s._v("指定构建的目标环境")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("web(默认值) 打包后的代码运行在web环境\nnode 打包后的代码运行在node环境\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"使用场景-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用场景-2"}},[s._v("#")]),s._v(" 使用场景")]),s._v(" "),a("p",[s._v("比如代码中引入node内置模块，require('fs'),如果不配置target:node，打包分析依赖时会报错！")]),s._v(" "),a("p",[s._v("配置了target:node后打包结果如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('fs: function(module,exports) {\n    module.exports = require("fs");\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"module-noparse"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-noparse"}},[s._v("#")]),s._v(" module.noParse")]),s._v(" "),a("p",[s._v("不对某个模块作任何处理(依赖分析、替换依赖函数等)，读取内容后直接将其放入模块列表中")]),s._v(" "),a("h4",{attrs:{id:"使用场景-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用场景-3"}},[s._v("#")]),s._v(" 使用场景")]),s._v(" "),a("p",[s._v("代码中引入的是已经被打包合并过的单模块库，该库不需要再作依赖分析和替换，可以直接拿过来用！(比如jquery)")]),s._v(" "),a("h3",{attrs:{id:"resolve-modules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resolve-modules"}},[s._v("#")]),s._v(" resolve.modules")]),s._v(" "),a("p",[s._v("resolve是模块依赖查找相关的配置")]),s._v(" "),a("p",[s._v("resolve.modules默认值['node_modules'],指定模块查找的位置")]),s._v(" "),a("h4",{attrs:{id:"举例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),a("p",[s._v("代码中模块依赖没有以./或../开头，它会先去查找模块当前目录下有没有node_modules，如果没有再去上级查找...")]),s._v(" "),a("h3",{attrs:{id:"resolve-extensions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resolve-extensions"}},[s._v("#")]),s._v(" resolve.extensions")]),s._v(" "),a("p",[s._v("让webpack自动补全模块依赖函数中的后缀名")]),s._v(" "),a("h4",{attrs:{id:"举例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例-2"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),a("p",[s._v("默认值[.js,.json]，先看目录下有没有js再看有没有json")]),s._v(" "),a("h3",{attrs:{id:"resolve-alias"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resolve-alias"}},[s._v("#")]),s._v(" resolve.alias")]),s._v(" "),a("p",[s._v("替换模块依赖函数中的路径别名为实际路径")]),s._v(" "),a("p",[s._v("好处：不用写长长的路径")]),s._v(" "),a("h3",{attrs:{id:"externals"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#externals"}},[s._v("#")]),s._v(" externals")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('externals: {\n    jquery: "$",\n    lodash: "_"\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("告诉webpack遇到jquery或lodash包不需要你将它们打包到最终结果中")]),s._v(" "),a("h4",{attrs:{id:"使用场景-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用场景-4"}},[s._v("#")]),s._v(" 使用场景")]),s._v(" "),a("p",[s._v("jquery loadash引入的是外链，不需要再打包进来了")]),s._v(" "),a("h4",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[s._v("#")]),s._v(" 原理")]),s._v(" "),a("p",[s._v("不配置externals")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("jquery: function(module, exports) {\n    // jquery大量的源码\n} \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("配置externals")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("jquery: function(module, exports)  {\n\n    module.exports = $\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"好处"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#好处"}},[s._v("#")]),s._v(" 好处")]),s._v(" "),a("p",[s._v("既可以在页面使用CDN，又让bundle体积更小，还不影响代码编写")]),s._v(" "),a("h3",{attrs:{id:"stats"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stats"}},[s._v("#")]),s._v(" stats")]),s._v(" "),a("p",[s._v("控制webpack输出日志的详细程度")])])}),[],!1,null,null,null);a.default=n.exports}}]);